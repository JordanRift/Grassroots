@model JordanRift.Grassroots.Framework.Entities.Payment
@using JordanRift.Grassroots.Framework.Entities.Models
@{
    //
    // Copyright © 2011 Jordan Rift, LLC - All Rights Reserved
    //
    // THIS WORK IS LICENSED UNDER A CREATIVE COMMONS ATTRIBUTION-NONCOMMERCIAL-
    // SHAREALIKE 3.0 UNPORTED LICENSE:
    // http://creativecommons.org/licenses/by-nc-sa/3.0/
    //
    
	ViewBag.Title = "Donate"; <!-- TODO: Add title with organization name -->
}

@section DocumentHead 
{
    @Html.Partial("UIForm")
    <script type="text/javascript" src="@Url.Content("~/Scripts/payment-form.js")"></script>
    <script type="text/javascript">
        $(function () {
            $("#Amount").val("");
        });
	</script>
}

@{ 
	var campaign = ViewBag.Campaign as Campaign;
	var urlSlug = campaign != null ? campaign.UrlSlug : string.Empty;
}

<hgroup>
    <h1>Make a Donation</h1>
    @if (campaign != null) { 
    <h3>@campaign.Title</h3>
    }
</hgroup>
<div class="donate-form">
	@using (Html.BeginForm("ProcessDonation", "Donate", new { Area = "", slug = urlSlug })) {
		@Html.ValidationSummary()
		<fieldset class="column">
            <legend>Payment Information</legend>
			<dl>
				<dt>@Html.LabelFor(model => model.Amount)</dt>
				<dd>
					@Html.TextBoxFor(model => model.Amount) 
					@Html.ValidationMessageFor(model => model.Amount) 
				</dd>

				<dt>@Html.LabelFor(model => model.PaymentType)</dt>
				<dd>
					@Html.EditorFor(model => model.PaymentType)
					@Html.ValidationMessageFor(model => model.PaymentType)
				</dd>
			
				<dt>@Html.LabelFor(model => model.AccountNumber)</dt>
				<dd>
					@Html.TextBoxFor(model => model.AccountNumber) 
					@Html.ValidationMessageFor(model => model.AccountNumber) 
				</dd>
            </dl>
            <dl class="cc-info">
				<dt>@Html.LabelFor(model => model.Expiration)</dt>
				<dd>
					@Html.EditorFor(model => model.Expiration) 
					@Html.ValidationMessageFor(model => model.Expiration) 
				</dd>
				<dt>@Html.LabelFor(model => model.Cid)</dt>
				<dd>
					@Html.TextBoxFor(model => model.Cid) 
					@Html.ValidationMessageFor(model => model.Cid) 
				</dd>
			</dl>
			<dl class="bank-info">
				<dt>@Html.LabelFor(model => model.RoutingNumber)</dt>
				<dd>
					@Html.TextBoxFor(model => model.RoutingNumber) 
					@Html.ValidationMessageFor(model => model.RoutingNumber) 
				</dd>
				<dt>@Html.LabelFor(model => model.BankName)</dt>
				<dd>
					@Html.TextBoxFor(model => model.BankName) 
					@Html.ValidationMessageFor(model => model.BankName) 
				</dd>
				<dt>@Html.LabelFor(model => model.CheckType)</dt>
				<dd>
					@Html.EditorFor(model => model.CheckType) 
					@Html.ValidationMessageFor(model => model.CheckType) 
				</dd>
				<dt>@Html.LabelFor(model => model.CheckNumber)</dt>
				<dd>
					@Html.TextBoxFor(model => model.CheckNumber) 
					@Html.ValidationMessageFor(model => model.CheckNumber) 
				</dd>
			</dl>
        </fieldset>
        <fieldset class="column">
            <legend>Billing Information</legend>
            <dl>
			    <dt>@Html.LabelFor(model => model.FirstName)</dt>
			    <dd>
				    @Html.TextBoxFor(model => model.FirstName) 
				    @Html.ValidationMessageFor(model => model.FirstName) 
			    </dd>
			    <dt>@Html.LabelFor(model => model.LastName)</dt>
			    <dd>
				    @Html.TextBoxFor(model => model.LastName) 
				    @Html.ValidationMessageFor(model => model.LastName) 
			    </dd>
			    <dt>@Html.LabelFor(model => model.Email)</dt>
			    <dd>
				    @Html.TextBoxFor(model => model.Email) 
				    @Html.ValidationMessageFor(model => model.Email) 
			    </dd>
			    <dt>@Html.LabelFor(model => model.PrimaryPhone)</dt>
			    <dd>
				    @Html.TextBoxFor(model => model.PrimaryPhone) 
				    @Html.ValidationMessageFor(model => model.PrimaryPhone) 
			    </dd>
			    <dt>@Html.LabelFor(model => model.AddressLine1)</dt>
			    <dd>
				    @Html.TextBoxFor(model => model.AddressLine1) 
				    @Html.ValidationMessageFor(model => model.AddressLine1)<br />
                    @Html.TextBoxFor(model => model.AddressLine2) 
			    </dd>
			    <dt>@Html.LabelFor(model => model.City)</dt>
			    <dd>
				    @Html.TextBoxFor(model => model.City) 
				    @Html.ValidationMessageFor(model => model.City) 
			    </dd>
			    <dt>@Html.LabelFor(model => model.State)</dt>
			    <dd>
				    @Html.EditorFor(model => model.State) 
				    @Html.ValidationMessageFor(model => model.State) 
			    </dd>
			    <dt>@Html.LabelFor(model => model.ZipCode)</dt>
			    <dd>
				    @Html.TextBoxFor(model => model.ZipCode) 
				    @Html.ValidationMessageFor(model => model.ZipCode) 
			    </dd>
            </dl>
		</fieldset>
		<div>
			@Html.UiSubmit("Submit")
			@Html.UiCancel()
		</div> 
	} 
</div>